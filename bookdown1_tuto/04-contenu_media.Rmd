# Insertion de contenus multim√©dias (images, vid√©os, sons)

Bookdown te permet d‚Äôenrichir ton livre avec des **contenus multim√©dias** : **images, vid√©os, sons**, qu‚Äôils soient en **local** (dans ton dossier) ou h√©berg√©s en **ligne**. Cela am√©liore l‚Äôaccessibilit√© et l‚Äôinteractivit√© de ton document, surtout en HTML.


## Insertion d‚Äôimages

L‚Äôimage est le contenu multim√©dia le plus utilis√© dans un document Bookdown, qu‚Äôil s‚Äôagisse de logos, de cartes, de sch√©mas ou de captures d‚Äô√©cran. Bookdown accepte les images **locales** (plac√©es dans le dossier du projet) ou **h√©berg√©es en ligne**.


### Image locale (dans le dossier du projet)

Pour ins√©rer une image locale, voici la proc√©dure recommand√©e :

- Cr√©e un dossier `images/` dans ton projet Bookdown
- Place l‚Äôimage √† l‚Äôint√©rieur (ex. `logo.png`)
- Utilise la syntaxe Markdown classique pour l‚Äôins√©rer dans ton `.Rmd` :

```
![Logo du projet](images/logo.png)
```

Cette m√©thode fonctionne aussi bien en HTML qu‚Äôen PDF ou EPUB, √† condition que l‚Äôimage soit disponible au moment de la compilation.

---

#### Options suppl√©mentaires avec HTML

Markdown ne permet pas de contr√¥ler finement la taille ou la position. Pour cela, tu peux utiliser du HTML √† la place :

```html
<p align="center">
  <img src="images/logo.png" width="300px" />
</p>
```

Cela permet de :
- **Centrer** l‚Äôimage (`align="center"`)
- **Contr√¥ler sa largeur** (`width="300px"`, ou `width="50%"`)
- **Conserver la compatibilit√©** avec tous les formats HTML

Si tu veux forcer une image √† occuper toute la largeur de la page en HTML :

```html
<img src="images/schema.png" style="width:100%;"/>
```


#### Astuces bonnes pratiques

- Utilise des formats d‚Äôimage l√©gers : `.png`, `.jpg`, `.svg` (PDF-friendly)
- Pr√©f√®re les **chemins relatifs** (`images/monimage.png`) plut√¥t que des chemins absolus
- Pour les graphiques produits dans R, utilise plut√¥t un chunk R avec `fig.cap`


### Image h√©berg√©e en ligne

Tu peux aussi ins√©rer une image stock√©e en ligne avec la m√™me syntaxe Markdown :

```markdown
![Logo ENSAE](https://example.com/images/logo_ensae.png)
```

Cela fonctionne uniquement si la page peut acc√©der √† Internet. Pour les PDF, l‚Äôimage sera t√©l√©charg√©e √† la compilation.

Cette m√©thode est utile si tu ne veux pas alourdir ton d√©p√¥t GitHub ou ton dossier de projet avec des fichiers image.


#### R√©sum√©

| Type d‚Äôimage     | Syntaxe recommand√©e                | Compatible HTML | Compatible PDF |
|------------------|------------------------------------|------------------|----------------|
| Image locale     | `![L√©gende](images/img.png)`       | ‚úÖ               | ‚úÖ             |
| Image en ligne   | `![L√©gende](https://...)`          | ‚úÖ               | ‚úÖ*            |
| Image styl√©e     | `<img src=... width=...>` (HTML)   | ‚úÖ               | ‚ö†Ô∏è (ignore le style) |

Si l‚Äôimage en ligne n‚Äôest pas disponible lors de la compilation, elle ne s‚Äôaffichera pas dans le PDF.


## Insertion de vid√©os

#### Vid√©o locale (`.mp4` ou `.webm`)

Cr√©e un dossier `videos/` et ajoute ce code dans ton `.Rmd` :

```html
<video width="720" height="405" controls>
  <source src="videos/creation_bookdown.webm" type="video/webm">
  Votre navigateur ne supporte pas la lecture de vid√©os HTML5.
</video>
```

Utilise `.webm` ou `.mp4` pour un bon support navigateur. Pour une vid√©o responsive :

```html
<div style="max-width: 100%;">
  <video controls style="width: 100%;">
    <source src="videos/demo.mp4" type="video/mp4">
  </video>
</div>
```

#### Vid√©o h√©berg√©e (YouTube, PeerTube‚Ä¶)

Pour ins√©rer une vid√©o YouTube :

```html
<iframe width="720" height="405" src="https://www.youtube.com/embed/3rOXFJ0F1iE" frameborder="0" allowfullscreen></iframe>
```

---

## Insertion de fichiers audio

Tu peux int√©grer des **sons** ou **commentaires vocaux** dans tes chapitres.

#### Exemple (audio local `.mp3`) :

```html
<audio controls>
  <source src="audio/intro.mp3" type="audio/mpeg">
  Votre navigateur ne supporte pas l'audio HTML5.
</audio>
```

Place tes fichiers audio dans un dossier `audio/` dans ton projet.


### Limitations selon le format de sortie

| Contenu        | HTML | PDF  | EPUB |
|----------------|------|------|------|
| Images         | ‚úÖ    | ‚úÖ    | ‚úÖ    |
| Vid√©os (.mp4)  | ‚úÖ    | ‚ùå    | ‚ö†Ô∏è (souvent ignor√©) |
| YouTube        | ‚úÖ    | ‚ùå    | ‚ùå    |
| Audio (.mp3)   | ‚úÖ    | ‚ùå    | ‚ö†Ô∏è (selon lecteur) |

Pour le PDF, les m√©dias interactifs **ne sont pas int√©gr√©s** : il vaut mieux fournir un lien externe ou une capture.


### Astuces pratiques

- Organise tes fichiers multim√©dias dans des sous-dossiers : `images/`, `videos/`, `audio/`
- V√©rifie que les chemins sont **relatifs** √† la racine du projet
- Pr√©f√®re les formats **.webm** et **.mp4** pour les vid√©os, **.mp3** pour les sons
- Pour les versions PDF : remplace les vid√©os par des **liens cliquables** ou des **captures d‚Äô√©cran**

## Int√©gration d'un Shiny

Tu as deux options :  
**Un lien cliquable** (fonctionne dans tous les formats : HTML, PDF, EPUB)  
**Une iframe int√©gr√©e** (uniquement pour la version HTML)

---

### ‚úÖ 1. **M√©thode universelle (tous formats)** ‚Äì lien cliquable

```markdown
## Passons √† l'exploration

Pour explorer l'application interactive de comparaison dynamique, cliquez ici :

üëâ [Acc√©der √† l'application Shiny](https://ahmedniass.shinyapps.io/Comparaison/)

L'application vous permet de visualiser, filtrer et comparer les r√©sultats de mani√®re interactive.
```

‚û°Ô∏è **Recommand√©e** si tu veux g√©n√©rer aussi une version PDF ou EPUB.

---

###  **M√©thode HTML uniquement** ‚Äì int√©gration en iframe

```
## Passons √† l'exploration

Vous pouvez √©galement consulter l'application directement ci-dessous (format HTML uniquement) :

<iframe src="https://ahmedniass.shinyapps.io/Comparaison/"
        width="100%" height="600" frameborder="0"
        style="border:1px solid #ccc; border-radius: 8px;">
</iframe>
```

Cela int√®gre l'application **directement dans la page** de ton livre HTML (comme une vid√©o YouTube).

‚ö†Ô∏è Cela **ne fonctionnera pas** si tu compiles en PDF ou EPUB. Pour √©viter l‚Äôerreur Pandoc, entoure ce bloc d‚Äôun commentaire conditionnel :

```
<!-- only in HTML -->
<iframe ...></iframe>
```

---

### Astuce suppl√©mentaire : bouton stylis√© (HTML)

Si tu veux un bouton dans la version HTML :

```html
<p style="text-align:center;">
  <a href="https://ahmedniass.shinyapps.io/Comparaison/" target="_blank"
     style="background-color:#0077cc; color:white; padding:10px 20px; text-decoration:none; border-radius:6px;">
     üöÄ Lancer l'application Shiny
  </a>
</p>
```

