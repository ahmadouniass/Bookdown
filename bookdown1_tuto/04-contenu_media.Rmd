# √âcriture du contenu avec Bookdown

Une fois la structure du projet en place, tu peux commencer √† √©crire les chapitres de ton livre. Bookdown repose sur **R Markdown**, un langage simple et puissant pour m√©langer du texte, des √©quations, du code et des r√©sultats dans un seul document.

## Syntaxe Markdown (rappel rapide)

Tu peux structurer ton texte avec une syntaxe l√©g√®re :

- `#` : Titre de chapitre (niveau 1)
- `##`, `###` : Sous-sections (niveaux 2 et 3)
- `*italique*` ou `_italique_`  
- `**gras**` ou `__gras__`  
- `> citation`
- `-` ou `*` pour des listes √† puces  
- `1.` pour des listes num√©rot√©es  
- `` `code` `` pour du code en ligne

 Pour chaque chapitre, utilise **un seul titre de niveau `#`** au d√©but du fichier `.Rmd` pour qu‚Äôil soit reconnu comme un chapitre √† part enti√®re.


### Blocs de code R (chunks)

Tu peux ins√©rer du **code ex√©cutable en R** dans des blocs appel√©s *chunks* :

```{r summary}
summary(mtcars)
```


- Les r√©sultats (textes, graphiques, tableaux) sont automatiquement int√©gr√©s dans le livre.
- Tu peux ajouter des options comme `echo=FALSE`, `fig.width`, `message=FALSE`, etc.

Pour aller plus loin tu peux te r√©ferrer au travail de nos camarades sur le th√®me : <a href="https://github.com/dior204/Theme13-Autonomisation-des-rapports-avec-R-Le-package-Rmarkdown">Rmarkdown</a>


## Figures et tableaux

### Figures

Tu peux g√©n√©rer des graphiques avec `ggplot2`, `plot()`, etc., et leur associer une **l√©gende** :


```{r plot-example, fig.cap = "Exemple de graphique"}
plot(cars)
```


Bookdown **num√©rote automatiquement** les figures et permet de les **r√©f√©rencer dans le texte** avec `\@ref(fig:plot-example)`.



### Tableaux

Tu peux cr√©er des tableaux √©l√©gants avec :

- `knitr::kable()` (basique)
- `gt::gt()` (avanc√©)
- `kableExtra` (pour plus de mise en forme)

```{r tab-example, results='asis'}
knitr::kable(head(iris), caption = "Extrait des donn√©es iris")
```


Comme les figures, tu peux les r√©f√©rencer dans le texte : `\@ref(tab:tab-example)`.

---

### Math√©matiques et √©quations

Bookdown permet d‚Äô√©crire des **formules math√©matiques en LaTeX** :

- Inline : `\( E = mc^2 \)`
- Bloc centr√© :  
```
$$ E = mc^2 $$
```

Tu peux aussi **num√©roter une √©quation** pour y faire r√©f√©rence :

```
$$
E = mc^2 (\#eq:energie)
$$

Comme vu en \@ref(eq:energie), cette √©quation exprime...
```


### üîó R√©f√©rences crois√©es

Bookdown permet de **lier dynamiquement** les parties du document (chapitres, figures, tableaux, √©quations‚Ä¶).

- Pour cr√©er une r√©f√©rence : ajoute un **identifiant** √† la fin d‚Äôun titre ou d‚Äôun chunk :
  ```
  # M√©thodologie {#method}
  ```
- Et pour y faire r√©f√©rence :
  ```markdown
  Voir la section \@ref(method)
  ```

---

## Citations bibliographiques

Bookdown prend en charge les r√©f√©rences bibliographiques gr√¢ce √† **Pandoc** et au format **BibTeX**. Cela te permet de citer des articles, des livres ou des sources web de mani√®re dynamique, avec une mise en forme automatique.

### 1. Cr√©er un fichier `.bib`

Commence par cr√©er un fichier texte portant l‚Äôextension `.bib` (qui est souvent g√©n√©r√© automatiquement sous le nom de`book.bib`) qui contient tes **r√©f√©rences bibliographiques** au format **BibTeX**.

Voici un exemple de contenu typique dans `book.bib` :

```bibtex
@book{xie2016bookdown,
  title     = {bookdown: Authoring Books and Technical Documents with R Markdown},
  author    = {Yihui Xie},
  year      = {2016},
  publisher = {Chapman and Hall/CRC},
  url       = {https://bookdown.org/yihui/bookdown/}
}
```

Tu peux g√©n√©rer ce fichier √† partir de Zotero, Google Scholar, ou d'autres outils de gestion bibliographique.


###  D√©clarer la bibliographie dans `index.Rmd`

Dans le bloc YAML en t√™te de `index.Rmd`, indique le nom du fichier `.bib` et le **style bibliographique** :

```yaml
bibliography: [book.bib]
biblio-style: apalike
link-citations: true
```

- `biblio-style: apalike` : style auteur-ann√©e classique
- Tu peux aussi utiliser d'autres styles (`chicago`, `ieee`, etc.) ou un fichier `.csl` (Citation Style Language)
- `link-citations: true` ajoute un **lien hypertexte** entre la citation dans le texte et la r√©f√©rence compl√®te


### Citer une source dans le texte

Dans ton texte `.Rmd`, tu peux :

- Citer **entre parenth√®ses** : `[@xie2016bookdown]` ‚Üí (Xie 2016)
- Int√©grer la citation dans la phrase : `@xie2016bookdown` ‚Üí Xie (2016)

Exemples :

```markdown
Selon @xie2016bookdown, Bookdown est tr√®s utile pour l‚Äô√©criture scientifique.

Des extensions ont √©t√© propos√©es dans des travaux r√©cents [@xie2016bookdown; @wickham2019advanced].
```


### G√©n√©ration automatique de la bibliographie

Lors de la compilation :

- Bookdown **recherche toutes les citations** dans les fichiers `.Rmd`
- Il **g√©n√®re automatiquement la section ‚ÄúR√©f√©rences‚Äù** √† la fin du livre (ou √† l‚Äôendroit o√π tu places un fichier `.Rmd` avec un titre `# R√©f√©rences`)

Tu n‚Äôas **pas besoin d‚Äô√©crire la bibliographie √† la main** : elle sera construite dynamiquement √† partir du fichier `.bib`.


- Donne √† chaque r√©f√©rence une **cl√© unique et explicite** (`@xie2016bookdown` plut√¥t que `@ref1`)
- Place le fichier `.bib` √† la racine de ton projet
- Utilise des **groupes de r√©f√©rences** avec `[@ref1; @ref2]` si n√©cessaire
- Teste la compilation en HTML et en PDF pour v√©rifier que les styles s‚Äôaffichent bien


