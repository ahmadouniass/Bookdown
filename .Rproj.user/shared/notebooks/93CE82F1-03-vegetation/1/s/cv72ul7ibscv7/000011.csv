"0",""
"0",""
"0","# 📂 Chargement unique du shapefile"
"0","shapefile_path <- ""data/shapes/regions_mali.shp"""
"0","regions <- st_read(shapefile_path)"
"1","Reading layer `"
"1","regions_mali"
"1","' from data source "
"1","
"
"1","  "
"1","`"
"1","C:\Users\pc\OneDrive\Desktop\Projet_Bookdown\Bookdown\Atlas_Spectral_Sahel\data\shapes\regions_mali.shp"
"1","' "
"1","
"
"1","  "
"1","using driver `"
"1","ESRI Shapefile"
"1","'"
"1","
"
"1","Simple feature collection with 10 features and 12 fields"
"1","
"
"1","Geometry type: POLYGON
"
"1","Dimension:     XY
"
"1","Bounding box:  "
"1","xmin: -12.23924 ymin: 10.14137 xmax: 4.24467 ymax: 24.99951"
"1","
"
"1","Geodetic CRS:  WGS 84
"
"0","# 🔁 Fonction générique pour calculer les moyennes régionales"
"0","get_moyennes_region <- function(indicateur, suffixe = ""_mali.tif"", decimals = 3) {"
"0","  raster_path <- paste0(""data/"", indicateur, ""/"", indicateur, suffixe)"
"0","  rast <- raster(raster_path)"
"0","  moyennes <- exact_extract(rast, regions, 'mean')"
"0","  "
"0","  regions %>%"
"0","    st_drop_geometry() %>%"
"0","    select(Région = ADM1_FR) %>%"
"0","    mutate(!!toupper(indicateur) := round(moyennes, decimals))"
"0","}"
"0",""
"0","# 📈 Génération des tableaux"
"0","df_evi <- get_moyennes_region(""evi"", decimals = 3)"
"1","  |                                                                      "
"1","  |                                                                |   0%"
"1","  |                                                                      "
"1","  |======                                                          |  10%"
"1","  |                                                                      "
"1","  |=============                                                   |  20%"
"1","  |                                                                      "
"1","  |===================                                             |  30%"
"1","  |                                                                      "
"1","  |==========================                                      |  40%"
"1","  |                                                                      "
"1","  |================================                                |  50%"
"1","  |                                                                      "
"1","  |======================================                          |  60%"
"1","  |                                                                      "
"1","  |=============================================                   |  70%"
"1","  |                                                                      "
"1","  |===================================================             |  80%"
"1","  |                                                                      "
"1","  |==========================================================      |  90%"
"1","  |                                                                      "
"1","  |================================================================| 100%"
"1","
"
"0","df_evi <- df_evi %>%"
"0","  mutate(EVI = round(EVI / 10000, 3)) "
"0","df_fai  <- get_moyennes_region(""fai"",  decimals = 3)"
"1","  |                                                                      "
"1","  |                                                                |   0%"
"1","  |                                                                      "
"1","  |======                                                          |  10%"
"1","  |                                                                      "
"1","  |=============                                                   |  20%"
"1","  |                                                                      "
"1","  |===================                                             |  30%"
"1","  |                                                                      "
"1","  |==========================                                      |  40%"
"1","  |                                                                      "
"1","  |================================                                |  50%"
"1","  |                                                                      "
"1","  |======================================                          |  60%"
"1","  |                                                                      "
"1","  |=============================================                   |  70%"
"1","  |                                                                      "
"1","  |===================================================             |  80%"
"1","  |                                                                      "
"1","  |==========================================================      |  90%"
"1","  |                                                                      "
"1","  |================================================================| 100%"
"1","
"
"0","df_andwi <- get_moyennes_region(""andwi"", decimals = 3)"
"1","  |                                                                      "
"1","  |                                                                |   0%"
"1","  |                                                                      "
"1","  |======                                                          |  10%"
"1","  |                                                                      "
"1","  |=============                                                   |  20%"
"1","  |                                                                      "
"1","  |===================                                             |  30%"
"1","  |                                                                      "
"1","  |==========================                                      |  40%"
"1","  |                                                                      "
"1","  |================================                                |  50%"
"1","  |                                                                      "
"1","  |======================================                          |  60%"
"1","  |                                                                      "
"1","  |=============================================                   |  70%"
"1","  |                                                                      "
"1","  |===================================================             |  80%"
"1","  |                                                                      "
"1","  |==========================================================      |  90%"
"1","  |                                                                      "
"1","  |================================================================| 100%"
"1","
"
