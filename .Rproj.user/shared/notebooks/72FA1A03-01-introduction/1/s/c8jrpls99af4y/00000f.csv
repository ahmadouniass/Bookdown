"0","library(raster)"
"2","Avis : le package ‘raster’ a été compilé avec la version R 4.3.3"
"2","Avis : le package ‘sp’ a été compilé avec la version R 4.3.3"
"0","library(tmap)"
"2","Avis : le package ‘tmap’ a été compilé avec la version R 4.3.3"
"0","library(leaflet)"
"2","Avis : le package ‘leaflet’ a été compilé avec la version R 4.3.3"
"0","library(sf)"
"2","Avis : le package ‘sf’ a été compilé avec la version R 4.3.3"
"0","library(exactextractr)"
"2","Avis : le package ‘exactextractr’ a été compilé avec la version R 4.3.3"
"0","# Fonction réutilisable"
"0","render_indicator_raster <- function(indicator_name, palette = ""viridis"") {"
"0","  path <- paste0(""data/"", indicator_name, ""/"", indicator_name, ""_senegal.tif"")"
"0","  rast <- raster(path)"
"0","  "
"0","  # Carte statique"
"0","  static_map <- tm_shape(rast) +"
"0","    tm_raster(style = ""quantile"", palette = palette, title = toupper(indicator_name)) +"
"0","    tm_layout(main.title = paste0(toupper(indicator_name), "" – Sénégal (2024)""),"
"0","              legend.outside = TRUE)"
"0","  "
"0","  # Carte interactive"
"0","  pal_fun <- colorNumeric(palette = palette, domain = values(rast), na.color = ""transparent"")"
"0","  interactive_map <- leaflet() %>%"
"0","    addProviderTiles(""CartoDB.Positron"") %>%"
"0","    addRasterImage(rast, colors = pal_fun, opacity = 0.8) %>%"
"0","    addLegend(pal = pal_fun, values = values(rast), title = indicator_name, position = ""bottomright"")"
"0","  "
"0","  list(static = static_map, interactive = interactive_map, raster = rast)"
"0","}"
"0",""
"0","# Chargement du shapefile régional"
"0","regions <- st_read(""data/shapes/regions_senegal.shp"", quiet = TRUE)"
