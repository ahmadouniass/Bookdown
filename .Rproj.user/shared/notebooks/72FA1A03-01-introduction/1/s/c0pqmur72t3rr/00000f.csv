"0",""
"0",""
"0","# 📂 Chargement unique du shapefile"
"0","shapefile_path <- ""data/shapes/regions_senegal.shp"""
"0","regions <- st_read(shapefile_path)"
"1","Reading layer `"
"1","regions_senegal"
"1","' from data source "
"1","
"
"1","  "
"1","`"
"1","C:\Users\pc\OneDrive\Desktop\Projet_Bookdown\Bookdown\Atlas_Spectral_Sahel\data\shapes\regions_senegal.shp"
"1","' "
"1","
"
"1","  "
"1","using driver `"
"1","ESRI Shapefile"
"1","'"
"1","
"
"1","Simple feature collection with 14 features and 11 fields"
"1","
"
"1","Geometry type: MULTIPOLYGON
"
"1","Dimension:     XY
"
"1","Bounding box:  "
"1","xmin: -17.53115 ymin: 12.30813 xmax: -11.34522 ymax: 16.6928"
"1","
"
"1","Geodetic CRS:  WGS 84
"
"0","# 🔁 Fonction générique pour calculer les moyennes régionales"
"0","get_moyennes_region <- function(indicateur, suffixe = ""_senegal.tif"", decimals = 3) {"
"0","  raster_path <- paste0(""data/"", indicateur, ""/"", indicateur, suffixe)"
"0","  rast <- raster(raster_path)"
"0","  moyennes <- exact_extract(rast, regions, 'mean')"
"0","  "
"0","  regions %>%"
"0","    st_drop_geometry() %>%"
"0","    select(Région = ADM1_FR) %>%"
"0","    mutate(!!toupper(indicateur) := round(moyennes, decimals))"
"0","}"
"0",""
"0","# 📈 Génération des tableaux"
"0","df_ndvi <- get_moyennes_region(""ndvi"", decimals = 3)"
"1","  |                                                                       "
"1","  |                                                                 |   0%"
"1","  |                                                                       "
"1","  |=====                                                            |   7%"
"1","  |                                                                       "
"1","  |=========                                                        |  14%"
"1","  |                                                                       "
"1","  |==============                                                   |  21%"
"1","  |                                                                       "
"1","  |===================                                              |  29%"
"1","  |                                                                       "
"1","  |=======================                                          |  36%"
"1","  |                                                                       "
"1","  |============================                                     |  43%"
"1","  |                                                                       "
"1","  |================================                                 |  50%"
"1","  |                                                                       "
"1","  |=====================================                            |  57%"
"1","  |                                                                       "
"1","  |==========================================                       |  64%"
"1","  |                                                                       "
"1","  |==============================================                   |  71%"
"1","  |                                                                       "
"1","  |===================================================              |  79%"
"1","  |                                                                       "
"1","  |========================================================         |  86%"
"1","  |                                                                       "
"1","  |============================================================     |  93%"
"1","  |                                                                       "
"1","  |=================================================================| 100%"
"1","
"
"0","df_ndvi <- df_ndvi %>%"
"0","  mutate(NDVI = round(NDVI / 10000, 3))  # ou /10000 selon la source"
"0",""
"0","df_ari  <- get_moyennes_region(""ari"",  decimals = 4)"
"1","  |                                                                       "
"1","  |                                                                 |   0%"
"1","  |                                                                       "
"1","  |=====                                                            |   7%"
"1","  |                                                                       "
"1","  |=========                                                        |  14%"
"1","  |                                                                       "
"1","  |==============                                                   |  21%"
"1","  |                                                                       "
"1","  |===================                                              |  29%"
"1","  |                                                                       "
"1","  |=======================                                          |  36%"
"1","  |                                                                       "
"1","  |============================                                     |  43%"
"1","  |                                                                       "
"1","  |================================                                 |  50%"
"1","  |                                                                       "
"1","  |=====================================                            |  57%"
"1","  |                                                                       "
"1","  |==========================================                       |  64%"
"1","  |                                                                       "
"1","  |==============================================                   |  71%"
"1","  |                                                                       "
"1","  |===================================================              |  79%"
"1","  |                                                                       "
"1","  |========================================================         |  86%"
"1","  |                                                                       "
"1","  |============================================================     |  93%"
"1","  |                                                                       "
"1","  |=================================================================| 100%"
"1","
"
"0","df_lswi <- get_moyennes_region(""lswi"", decimals = 4)"
"1","  |                                                                       "
"1","  |                                                                 |   0%"
"1","  |                                                                       "
"1","  |=====                                                            |   7%"
"1","  |                                                                       "
"1","  |=========                                                        |  14%"
"1","  |                                                                       "
"1","  |==============                                                   |  21%"
"1","  |                                                                       "
"1","  |===================                                              |  29%"
"1","  |                                                                       "
"1","  |=======================                                          |  36%"
"1","  |                                                                       "
"1","  |============================                                     |  43%"
"1","  |                                                                       "
"1","  |================================                                 |  50%"
"1","  |                                                                       "
"1","  |=====================================                            |  57%"
"1","  |                                                                       "
"1","  |==========================================                       |  64%"
"1","  |                                                                       "
"1","  |==============================================                   |  71%"
"1","  |                                                                       "
"1","  |===================================================              |  79%"
"1","  |                                                                       "
"1","  |========================================================         |  86%"
"1","  |                                                                       "
"1","  |============================================================     |  93%"
"1","  |                                                                       "
"1","  |=================================================================| 100%"
"1","
"
