"0",""
"0",""
"0","# 📂 Chargement unique du shapefile"
"0","shapefile_path <- ""data/shapes/regions_niger.shp"""
"0","regions <- st_read(shapefile_path)"
"1","Reading layer `"
"1","regions_niger"
"1","' from data source "
"1","
"
"1","  "
"1","`"
"1","C:\Users\pc\OneDrive\Desktop\Projet_Bookdown\Bookdown\Atlas_Spectral_Sahel\data\shapes\regions_niger.shp"
"1","' "
"1","
"
"1","  "
"1","using driver `"
"1","ESRI Shapefile"
"1","'"
"1","
"
"1","Simple feature collection with 8 features and 11 fields"
"1","
"
"1","Geometry type: POLYGON
"
"1","Dimension:     XY
"
"1","Bounding box:  "
"1","xmin: 0.1662505 ymin: 11.69697 xmax: 15.99698 ymax: 23.52503"
"1","
"
"1","Geodetic CRS:  WGS 84
"
"0","# 🔁 Fonction générique pour calculer les moyennes régionales"
"0","get_moyennes_region <- function(indicateur, suffixe = ""_niger.tif"", decimals = 3) {"
"0","  raster_path <- paste0(""data/"", indicateur, ""/"", indicateur, suffixe)"
"0","  rast <- raster(raster_path)"
"0","  moyennes <- exact_extract(rast, regions, 'mean')"
"0","  "
"0","  regions %>%"
"0","    st_drop_geometry() %>%"
"0","    select(Région = ADM1_FR) %>%"
"0","    mutate(!!toupper(indicateur) := round(moyennes, decimals))"
"0","}"
"0",""
"0","# 📈 Génération des tableaux"
"0","df_atsavi <- get_moyennes_region(""atsavi"", decimals = 3)"
"1","  |                                                                                          "
"1","  |                                                                                    |   0%"
"1","  |                                                                                          "
"1","  |==========                                                                          |  12%"
"1","  |                                                                                          "
"1","  |=====================                                                               |  25%"
"1","  |                                                                                          "
"1","  |================================                                                    |  38%"
"1","  |                                                                                          "
"1","  |==========================================                                          |  50%"
"1","  |                                                                                          "
"1","  |====================================================                                |  62%"
"1","  |                                                                                          "
"1","  |===============================================================                     |  75%"
"1","  |                                                                                          "
"1","  |==========================================================================          |  88%"
"1","  |                                                                                          "
"1","  |====================================================================================| 100%"
"1","
"
"0","df_dbsi  <- get_moyennes_region(""dbsi"",  decimals = 3)"
"1","  |                                                                                          "
"1","  |                                                                                    |   0%"
"1","  |                                                                                          "
"1","  |==========                                                                          |  12%"
"1","  |                                                                                          "
"1","  |=====================                                                               |  25%"
"1","  |                                                                                          "
"1","  |================================                                                    |  38%"
"1","  |                                                                                          "
"1","  |==========================================                                          |  50%"
"1","  |                                                                                          "
"1","  |====================================================                                |  62%"
"1","  |                                                                                          "
"1","  |===============================================================                     |  75%"
"1","  |                                                                                          "
"1","  |==========================================================================          |  88%"
"1","  |                                                                                          "
"1","  |====================================================================================| 100%"
"1","
"
"0","df_wi2 <- get_moyennes_region(""wi2"", decimals = 3)"
"1","  |                                                                                          "
"1","  |                                                                                    |   0%"
"1","  |                                                                                          "
"1","  |==========                                                                          |  12%"
"1","  |                                                                                          "
"1","  |=====================                                                               |  25%"
"1","  |                                                                                          "
"1","  |================================                                                    |  38%"
"1","  |                                                                                          "
"1","  |==========================================                                          |  50%"
"1","  |                                                                                          "
"1","  |====================================================                                |  62%"
"1","  |                                                                                          "
"1","  |===============================================================                     |  75%"
"1","  |                                                                                          "
"1","  |==========================================================================          |  88%"
"1","  |                                                                                          "
"1","  |====================================================================================| 100%"
"1","
"
